<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Resultados IPSA</title>
</head>
<body>
    <h1>Resultados IPSA</h1>
    <div id="tableContainer"></div>
    <script>
        fetch('./results.json')
          .then(response => response.json())
          .then(data => {
            const tableContainer = document.getElementById('tableContainer');
            const table = document.createElement('table');
            table.border = 1;
        
            // Asumiendo que data.data es el array de acciones
            const rows = data.data;
        
            // Crea la fila de cabecera
            const headerRow = document.createElement('tr');
            ['Stock', 'Último Precio', 'RSI', 'P/E Ratio', 'Debt/Equity'].forEach(headerText => {
              const th = document.createElement('th');
              th.textContent = headerText;
              headerRow.appendChild(th);
            });
            table.appendChild(headerRow);
        
            // Crea una fila por cada acción
            rows.forEach(item => {
              const row = document.createElement('tr');
              ['Stock', 'Último Precio', 'RSI', 'P/E Ratio', 'Debt/Equity'].forEach(key => {
                const td = document.createElement('td');
                td.textContent = item[key] !== null ? item[key] : 'N/A';
                row.appendChild(td);
              });
              table.appendChild(row);
            });
        
            tableContainer.appendChild(table);
          })
          .catch(error => {
            console.error('Error fetching JSON:', error);
          });
        </script>
        
</body>
</html>
